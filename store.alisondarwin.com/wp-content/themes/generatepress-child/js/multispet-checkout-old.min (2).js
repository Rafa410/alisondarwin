jQuery(window).ready(function(e){"use strict";var t,c,n,o,r,s,a,i,u=e(".wpmc-tab-item"),m=e(".wpmc-step-item"),d=e(".wpmc-nav-buttons .button"),p=e("form.woocommerce-checkout"),h=e("#checkout_coupon"),l=e("#woocommerce_before_checkout_form");function w(){return m.index(m.filter(".current"))}function f(t){if(e(".woocommerce-checkout").trigger("wpmc_before_switching_tab"),t<0||t>m.length-1)return!1;e(".wpmc-tabs-wrapper").offset().top-e(window).scrollTop()<-40&&e("html, body").animate({scrollTop:e(".wpmc-tabs-wrapper").offset().top-70},800),e("html, body").promise().done(function(){u.removeClass("previous").filter(".current").addClass("previous"),m.removeClass("previous").filter(".current").addClass("previous"),u.removeClass("current",{duration:500}),u.eq(t).addClass("current",{duration:500}),m.removeClass("current",{duration:500}),m.eq(t).addClass("current",{duration:500}),d.removeClass("current"),p.addClass("processing"),h.hide(),l.hide(),t<m.length-1&&e("#wpmc-next").addClass("current"),0===t&&e(".wpmc-step-login").length>0&&(e("#wpmc-skip-login").addClass("current"),e("#wpmc-next").removeClass("current")),t===m.length-1&&(e("#wpmc-prev").addClass("current"),e("#wpmc-submit").addClass("current"),p.removeClass("processing").unblock()),0!=t&&e("#wpmc-prev").addClass("current"),e(".wpmc-step-review.current").length>0&&h.show(),e(".wpmc-"+l.data("step")+".current").length>0&&l.show(),e(".woocommerce-checkout").trigger("wpmc_after_switching_tab")})}if(e(".wpmc-step-item:first").addClass("current"),e("#wpmc-next, #wpmc-skip-login").on("click",function(){f(w()+1)}),e("#wpmc-prev").on("click",function(){f(w()-1)}),e(document).on("checkout_error",function(){var t=e(".woocommerce-invalid-required-field").closest(".wpmc-step-item").attr("class");e(".wpmc-step-item").each(function(c){e(this).attr("class")===t&&f(c)})}),e(".wpmc-tab-item").on("click",function(){e(this).hasClass("current")||w()<e(this).index()-1&&!e(this).hasClass("visited")||f(e(this).index())}),e(".the_champ_sharing_container").length>0&&e(".the_champ_sharing_container").insertAfter(e(this).parent().find("#checkout_coupon")),e(".woocommerce-checkout").keydown(function(e){if(13===e.which)return e.preventDefault(),!1}),e("#wpmc-back-to-cart").click(function(){window.location.href=e(this).data("href")}),e(document).keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0;39===t&&f(w()+1),37===t&&f(w()-1)}),"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0){const e=document.getElementById("content");i=function(e){"right"==e?f(w()-1):"left"==e&&f(w()+1)}||function(e){},(a=e).addEventListener("touchstart",function(e){var o=e.changedTouches[0];t="none",c=o.pageX,n=o.pageY,s=(new Date).getTime()},!1),a.addEventListener("touchend",function(e){var a=e.changedTouches[0];o=a.pageX-c,r=a.pageY-n,(new Date).getTime()-s<=350&&Math.abs(o)>=80&&Math.abs(r)<=40&&(t=o<0?"left":"right"),i(t)},!1)}});
