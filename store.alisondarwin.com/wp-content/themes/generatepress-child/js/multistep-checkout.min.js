jQuery(window).ready(function(e){"use strict";({$tabs:e(".wpmc-tab-item"),$sections:e(".wpmc-step-item"),$buttons:e(".wpmc-nav-button"),$checkout_form:e("form.woocommerce-checkout"),$coupon_form:e("#checkout_coupon"),$before_form:e("#woocommerce_before_checkout_form"),init:function(){var t,c,o,n,r,i,s,a,u=this;function h(e){if(/step-[0-9]/.test(e)){var t=e.match(/step-([0-9])/)[1];u.switch_tab(t)}}if(e(".woocommerce-checkout").on("wpmc_switch_tab",function(e,t){u.switch_tab(t)}),e(".wpmc-step-item:first").addClass("current"),e("#wpmc-next, #wpmc-skip-login").on("click",function(){u.switch_tab(u.current_index()+1)}),e("#wpmc-prev").on("click",function(){u.switch_tab(u.current_index()-1)}),e(document).on("checkout_error",function(){e("#createaccount").is(":checked")||e("#account_password_field, #account_username_field").removeClass("woocommerce-invalid-required-field"),e("#ship-to-different-address-checkbox").is(":checked")||e(".woocommerce-shipping-fields__field-wrapper p").removeClass("woocommerce-invalid-required-field");var t=e(".woocommerce-invalid-required-field").closest(".wpmc-step-item").attr("class");e(".wpmc-step-item").each(function(c){e(this).attr("class")===t&&u.switch_tab(c)})}),e(u.$tabs).on("click",function(){e(this).hasClass("current")||u.current_index()<e(this).index()-1||u.switch_tab(e(this).index())}),e(".the_champ_sharing_container").length>0&&e(".the_champ_sharing_container").insertAfter(e(this).parent().find("#checkout_coupon")),e(".woocommerce-checkout").on("keydown",function(e){if(13===e.which)return e.preventDefault(),!1}),e("#wpmc-back-to-cart").on("click",function(){window.location.href=e(this).data("href")}),e(document).on("keydown",function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0;39===t&&u.switch_tab(u.current_index()+1),37===t&&u.switch_tab(u.current_index()-1)}),window.location.hash&&h(window.location.hash),e(window).on("hashchange",function(){h(window.location.hash)}),"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0){const e=document.getElementById("content");a=function(e){"right"==e?u.switch_tab(u.current_index()-1):"left"==e&&u.switch_tab(u.current_index()+1)}||function(e){},(s=e).addEventListener("touchstart",function(e){var n=e.changedTouches[0];t="none",c=n.pageX,o=n.pageY,i=(new Date).getTime()},!1),s.addEventListener("touchend",function(e){var s=e.changedTouches[0];n=s.pageX-c,r=s.pageY-o,(new Date).getTime()-i<=350&&Math.abs(n)>=80&&Math.abs(r)<=40&&(t=n<0?"left":"right"),a(t)},!1)}},current_index:function(){return this.$sections.index(this.$sections.filter(".current"))},scroll_top:function(){if(0!==e(".wpmc-tabs-wrapper").length){e(".wpmc-tabs-wrapper").offset().top-e(window).scrollTop()<-40&&e("html, body").animate({scrollTop:e(".wpmc-tabs-wrapper").offset().top-70},800)}},switch_tab:function(t){var c=this;if(e(".woocommerce-checkout").trigger("wpmc_before_switching_tab"),t<0||t>this.$sections.length-1)return!1;this.scroll_top(),e("html, body").promise().done(function(){c.$tabs.removeClass("previous").filter(".current").addClass("previous"),c.$sections.removeClass("previous").filter(".current").addClass("previous"),e(".woocommerce-NoticeGroup-checkout:not(wpmc-error)").show(),c.$tabs.removeClass("current"),c.$tabs.eq(t).addClass("current"),c.$sections.removeClass("current"),c.$sections.eq(t).addClass("current"),c.$buttons.removeClass("current"),c.$checkout_form.addClass("processing"),c.$coupon_form.hide(),c.$before_form.hide(),t<c.$sections.length-1&&e("#wpmc-next").addClass("current"),0===t&&e(".wpmc-step-login").length>0&&(e("#wpmc-skip-login").addClass("current"),e("#wpmc-next").removeClass("current"),e(".woocommerce-NoticeGroup-checkout:not(wpmc-error)").hide()),t===c.$sections.length-1&&(e("#wpmc-prev").addClass("current"),e("#wpmc-submit").addClass("current"),c.$checkout_form.removeClass("processing").unblock()),0!=t&&e("#wpmc-prev").addClass("current"),e(".wpmc-step-review.current").length>0&&c.$coupon_form.show(),e(".wpmc-"+c.$before_form.data("step")+".current").length>0&&c.$before_form.show(),e(".woocommerce-checkout").trigger("wpmc_after_switching_tab")})}}).init()});